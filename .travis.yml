language: python

services:
  - docker

before_install:
  # - docker pull elasticsearch:7.3.2
  - cp ./tests/py_image_dedup.yaml ./
  - docker run -d -p 9200:9200 -p 9300:9300 -e "discovery.type=single-node" docker.elastic.co/elasticsearch/elasticsearch:7.3.2
  - docker ps -a

python:
  - "3.6"
# not yet working (because of scikit-image dependency)
#  - "3.7"
#  - "3.7-dev" # 3.7 development branch
#  - "nightly" # currently points to 3.7-dev
# command to install dependencies
install:
  - pip install .
  #- pip install -r requirements.txt
# command to run tests
script:
  - nosetests /home/travis/build/markusressel/py-image-dedup/tests